# Demo application: Swagger generated server

## Overview
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. By using the
[OpenAPI-Spec](https://github.com/swagger-api/swagger-core/wiki) from a remote server, you can easily generate a server stub.  This
is an example of building a swagger-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

## Requirements
Python 3.5.2+

## One-time-only setup 

1. Have latest possible virtualenv installed (pip install virtualenv). It's required to create virtual environments for python projects. You can install it by using `pip install virtualenv`;
2. Have latest possible make installed (http://gnuwin32.sourceforge.net/packages/make.htm). It's required to build the project and run its corresponding commands. `make` should be accessible from any folder by adding to system PATH;

## Initialization


* Uncompress demo application to empty folder;
* Specify valid path to directory with some demo files in ".\python_flask_server\swagger_server\config.cfg".  
* Check that `make` works fine by typing `make help`. You should see:

```
"environment:"
"make environ              # initialize environment"
"make clean                # clean environment"
"make run                  # run app"
"make flake8               # execute linter"
""

Initialize virtual environment by executing `make environ`
* Enable virtual environment by typing `.\env\Scripts\activate` after this you prompt in command line will be prependef by prefix `(env)`
* Check that virtual environment successfully activated by `pip --version`.



## Usage
To run the server, please execute the following from the root directory:

```
make run
```

To see version go here: 

```
http://localhost:8080/upgrade/version

```

To see files list go here: 

```
http://localhost:8080/upgrade/files

```

To download file go here: 

```
http://localhost:8080/upgrade/files/<filename>

```

and open your browser to here:

```
http://localhost:8080/upgrade/ui/
```

Your Swagger definition lives here:

```
http://localhost:8080/upgrade/swagger.json
```


## Running with Docker

To run the server on a Docker container, please execute the following from the root directory:

```bash
# building the image
docker build -t swagger_server .

# starting up a container

docker run -p 8080:8080 -v <host_dir>:<docker_dir> swagger_server
* host_dir - valid path to directory with some demo files
* docker_dir - dir specified in app config file ".\python_flask_server\swagger_server\config.cfg".  

For example:
docker run -p 8080:8080 -v D:\\documents\\cats:/upgrade/files swagger_server
```